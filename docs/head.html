<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9 head() | Inquiry and Analysis in Biology</title>
  <meta name="description" content="9 head() | Inquiry and Analysis in Biology" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="9 head() | Inquiry and Analysis in Biology" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 head() | Inquiry and Analysis in Biology" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="mutateprop-recover-roundprop-recover-2.html"/>
<link rel="next" href="data-visualization.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i><b>1</b> Overview</a>
<ul>
<li class="chapter" data-level="1.1" data-path="overview.html"><a href="overview.html#learning-objectives"><i class="fa fa-check"></i><b>1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="1.2" data-path="overview.html"><a href="overview.html#who-this-book-is-for"><i class="fa fa-check"></i><b>1.2</b> Who This Book is For</a></li>
<li class="chapter" data-level="1.3" data-path="overview.html"><a href="overview.html#about-this-book"><i class="fa fa-check"></i><b>1.3</b> About This Book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="the-process-of-science.html"><a href="the-process-of-science.html"><i class="fa fa-check"></i><b>2</b> The Process of Science</a>
<ul>
<li class="chapter" data-level="2.1" data-path="overview.html"><a href="overview.html#learning-objectives"><i class="fa fa-check"></i><b>2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="the-process-of-science.html"><a href="the-process-of-science.html#what-is-science"><i class="fa fa-check"></i><b>2.2</b> What is Science?</a></li>
<li class="chapter" data-level="2.3" data-path="the-process-of-science.html"><a href="the-process-of-science.html#science-versus-non-science"><i class="fa fa-check"></i><b>2.3</b> Science versus Non-science</a></li>
<li class="chapter" data-level="2.4" data-path="the-process-of-science.html"><a href="the-process-of-science.html#science-communication-is-hard"><i class="fa fa-check"></i><b>2.4</b> Science Communication is Hard</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html"><i class="fa fa-check"></i><b>3</b> The Structure of Scientific Writing</a>
<ul>
<li class="chapter" data-level="3.1" data-path="overview.html"><a href="overview.html#learning-objectives"><i class="fa fa-check"></i><b>3.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="3.2" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html#pieces-of-papers"><i class="fa fa-check"></i><b>3.2</b> Pieces of Papers</a></li>
<li class="chapter" data-level="3.3" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html#title"><i class="fa fa-check"></i><b>3.3</b> Title</a></li>
<li class="chapter" data-level="3.4" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html#abstract"><i class="fa fa-check"></i><b>3.4</b> Abstract</a></li>
<li class="chapter" data-level="3.5" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html#introduction"><i class="fa fa-check"></i><b>3.5</b> Introduction</a></li>
<li class="chapter" data-level="3.6" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html#methods"><i class="fa fa-check"></i><b>3.6</b> Methods</a></li>
<li class="chapter" data-level="3.7" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html#results"><i class="fa fa-check"></i><b>3.7</b> Results</a></li>
<li class="chapter" data-level="3.8" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html#discussion"><i class="fa fa-check"></i><b>3.8</b> Discussion</a></li>
<li class="chapter" data-level="3.9" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html#references"><i class="fa fa-check"></i><b>3.9</b> References</a></li>
<li class="chapter" data-level="3.10" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html#tables"><i class="fa fa-check"></i><b>3.10</b> Tables</a></li>
<li class="chapter" data-level="3.11" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html#figures"><i class="fa fa-check"></i><b>3.11</b> Figures</a></li>
<li class="chapter" data-level="3.12" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html#putting-it-all-together"><i class="fa fa-check"></i><b>3.12</b> Putting it all together</a></li>
<li class="chapter" data-level="3.13" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html#how-to-read-a-scientific-paper"><i class="fa fa-check"></i><b>3.13</b> How to Read a Scientific Paper</a>
<ul>
<li class="chapter" data-level="3.13.1" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html#you-dont-need-to-start-at-the-beginning"><i class="fa fa-check"></i><b>3.13.1</b> You don’t need to start at the beginning</a></li>
<li class="chapter" data-level="3.13.2" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html#it-doesnt-need-to-take-forever-to-read-a-paper"><i class="fa fa-check"></i><b>3.13.2</b> It doesn’t need to take forever to read a paper</a></li>
<li class="chapter" data-level="3.13.3" data-path="the-structure-of-scientific-writing.html"><a href="the-structure-of-scientific-writing.html#you-dont-need-to-understand-every-word"><i class="fa fa-check"></i><b>3.13.3</b> You don’t need to understand every word</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>4</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="overview.html"><a href="overview.html#learning-objectives"><i class="fa fa-check"></i><b>4.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="4.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-and-rstudio"><i class="fa fa-check"></i><b>4.2</b> R and RStudio</a></li>
<li class="chapter" data-level="4.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-use-this-chapter"><i class="fa fa-check"></i><b>4.3</b> How to Use This Chapter</a></li>
<li class="chapter" data-level="4.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-analysis-workflow"><i class="fa fa-check"></i><b>4.4</b> Data Analysis Workflow</a></li>
<li class="chapter" data-level="4.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#getting-started-in-rstudio"><i class="fa fa-check"></i><b>4.5</b> Getting Started in RStudio</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#create-a-folder-on-your-computer-for-your-analyses"><i class="fa fa-check"></i><b>4.5.1</b> Create a folder on your computer for your analyses</a></li>
<li class="chapter" data-level="4.5.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#open-rstudio"><i class="fa fa-check"></i><b>4.5.2</b> Open RStudio</a></li>
<li class="chapter" data-level="4.5.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#create-a-project"><i class="fa fa-check"></i><b>4.5.3</b> Create a project</a></li>
<li class="chapter" data-level="4.5.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#open-a-script"><i class="fa fa-check"></i><b>4.5.4</b> Open a script</a></li>
<li class="chapter" data-level="4.5.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#install-a-package"><i class="fa fa-check"></i><b>4.5.5</b> Install a package</a></li>
<li class="chapter" data-level="4.5.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#your-first-script"><i class="fa fa-check"></i><b>4.5.6</b> Your first script</a></li>
<li class="chapter" data-level="4.5.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#importing-your-own-data-to-rstudio"><i class="fa fa-check"></i><b>4.5.7</b> Importing your own data to RStudio</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#why-to-code-instead-of-click"><i class="fa fa-check"></i><b>4.6</b> Why to Code Instead of Click</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="thinking-quantitatively.html"><a href="thinking-quantitatively.html"><i class="fa fa-check"></i><b>5</b> Thinking Quantitatively</a>
<ul>
<li class="chapter" data-level="5.1" data-path="overview.html"><a href="overview.html#learning-objectives"><i class="fa fa-check"></i><b>5.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="5.2" data-path="thinking-quantitatively.html"><a href="thinking-quantitatively.html#why-statistics"><i class="fa fa-check"></i><b>5.2</b> Why Statistics</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="drug-data.html"><a href="drug-data.html"><i class="fa fa-check"></i><b>6</b> drug_data %&gt;%</a></li>
<li class="chapter" data-level="7" data-path="renameprop-recover-y.html"><a href="renameprop-recover-y.html"><i class="fa fa-check"></i><b>7</b> rename(prop_recover = y) %&gt;%</a></li>
<li class="chapter" data-level="8" data-path="mutateprop-recover-roundprop-recover-2.html"><a href="mutateprop-recover-roundprop-recover-2.html"><i class="fa fa-check"></i><b>8</b> mutate(prop_recover = round(prop_recover, 2)) %&gt;%</a></li>
<li class="chapter" data-level="9" data-path="head.html"><a href="head.html"><i class="fa fa-check"></i><b>9</b> head()</a>
<ul>
<li class="chapter" data-level="9.1" data-path="head.html"><a href="head.html#a-tibble-6-x-5"><i class="fa fa-check"></i><b>9.1</b> # A tibble: 6 x 5</a></li>
<li class="chapter" data-level="9.2" data-path="head.html"><a href="head.html#trial-drug-treatment-control-difference"><i class="fa fa-check"></i><b>9.2</b> trial drug treatment control difference</a></li>
<li class="chapter" data-level="9.3" data-path="head.html"><a href="head.html#section"><i class="fa fa-check"></i><b>9.3</b> <int> <chr> <dbl> <dbl> <dbl></a></li>
<li class="chapter" data-level="9.4" data-path="head.html"><a href="head.html#drug_a-1-0.41-0.59"><i class="fa fa-check"></i><b>9.4</b> 1 1 drug_a 1 0.41 0.59</a></li>
<li class="chapter" data-level="9.5" data-path="head.html"><a href="head.html#drug_a-0.89-0.81-0.08"><i class="fa fa-check"></i><b>9.5</b> 2 2 drug_a 0.89 0.81 0.08</a></li>
<li class="chapter" data-level="9.6" data-path="head.html"><a href="head.html#drug_a-0.96-0.56-0.4"><i class="fa fa-check"></i><b>9.6</b> 3 3 drug_a 0.96 0.56 0.4</a></li>
<li class="chapter" data-level="9.7" data-path="head.html"><a href="head.html#drug_a-0.62-0.99--0.37"><i class="fa fa-check"></i><b>9.7</b> 4 4 drug_a 0.62 0.99 -0.37</a></li>
<li class="chapter" data-level="9.8" data-path="head.html"><a href="head.html#drug_a-1-0.99-0.01"><i class="fa fa-check"></i><b>9.8</b> 5 5 drug_a 1 0.99 0.01</a></li>
<li class="chapter" data-level="9.9" data-path="head.html"><a href="head.html#drug_a-0.99-0.27-0.72"><i class="fa fa-check"></i><b>9.9</b> 6 6 drug_a 0.99 0.27 0.72</a></li>
<li class="chapter" data-level="9.10" data-path="head.html"><a href="head.html#summarise-ungrouping-output-override-with-.groups-argument"><i class="fa fa-check"></i><b>9.10</b> <code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</a></li>
<li class="chapter" data-level="9.11" data-path="head.html"><a href="head.html#a-tibble-3-x-5"><i class="fa fa-check"></i><b>9.11</b> # A tibble: 3 x 5</a></li>
<li class="chapter" data-level="9.12" data-path="head.html"><a href="head.html#drug-mean-sd-min-max"><i class="fa fa-check"></i><b>9.12</b> drug mean sd min max</a></li>
<li class="chapter" data-level="9.13" data-path="head.html"><a href="head.html#section-1"><i class="fa fa-check"></i><b>9.13</b> <chr> <dbl> <dbl> <dbl> <dbl></a></li>
<li class="chapter" data-level="9.14" data-path="head.html"><a href="head.html#drug_a-0.0315-0.303--0.61-0.72"><i class="fa fa-check"></i><b>9.14</b> 1 drug_a 0.0315 0.303 -0.61 0.72</a></li>
<li class="chapter" data-level="9.15" data-path="head.html"><a href="head.html#drug_b--0.00950-0.150--0.290-0.38"><i class="fa fa-check"></i><b>9.15</b> 2 drug_b -0.00950 0.150 -0.290 0.38</a></li>
<li class="chapter" data-level="9.16" data-path="head.html"><a href="head.html#drug_c-0.428-0.306--0.18-0.9"><i class="fa fa-check"></i><b>9.16</b> 3 drug_c 0.428 0.306 -0.18 0.9</a></li>
<li class="chapter" data-level="9.17" data-path="head.html"><a href="head.html#summarise-ungrouping-output-override-with-.groups-argument-1"><i class="fa fa-check"></i><b>9.17</b> <code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</a></li>
<li class="chapter" data-level="9.18" data-path="head.html"><a href="head.html#a-tibble-3-x-5-1"><i class="fa fa-check"></i><b>9.18</b> # A tibble: 3 x 5</a></li>
<li class="chapter" data-level="9.19" data-path="head.html"><a href="head.html#drug-mean-sd-min-max-1"><i class="fa fa-check"></i><b>9.19</b> drug mean sd min max</a></li>
<li class="chapter" data-level="9.20" data-path="head.html"><a href="head.html#section-2"><i class="fa fa-check"></i><b>9.20</b> <chr> <dbl> <dbl> <dbl> <dbl></a></li>
<li class="chapter" data-level="9.21" data-path="head.html"><a href="head.html#drug_a-0.03-0.3--0.6-0.7"><i class="fa fa-check"></i><b>9.21</b> 1 drug_a 0.03 0.3 -0.6 0.7</a></li>
<li class="chapter" data-level="9.22" data-path="head.html"><a href="head.html#drug_b--0.01-0.1--0.3-0.4"><i class="fa fa-check"></i><b>9.22</b> 2 drug_b -0.01 0.1 -0.3 0.4</a></li>
<li class="chapter" data-level="9.23" data-path="head.html"><a href="head.html#drug_c-0.43-0.3--0.2-0.9"><i class="fa fa-check"></i><b>9.23</b> 3 drug_c 0.43 0.3 -0.2 0.9</a></li>
<li class="chapter" data-level="9.24" data-path="head.html"><a href="head.html#loading-required-package-rstan"><i class="fa fa-check"></i><b>9.24</b> Loading required package: rstan</a></li>
<li class="chapter" data-level="9.25" data-path="head.html"><a href="head.html#loading-required-package-stanheaders"><i class="fa fa-check"></i><b>9.25</b> Loading required package: StanHeaders</a></li>
<li class="chapter" data-level="9.26" data-path="head.html"><a href="head.html#rstan-version-2.21.2-gitrev-2e1f913d3ca3"><i class="fa fa-check"></i><b>9.26</b> rstan (Version 2.21.2, GitRev: 2e1f913d3ca3)</a></li>
<li class="chapter" data-level="9.27" data-path="head.html"><a href="head.html#for-execution-on-a-local-multicore-cpu-with-excess-ram-we-recommend-calling"><i class="fa fa-check"></i><b>9.27</b> For execution on a local, multicore CPU with excess RAM we recommend calling</a></li>
<li class="chapter" data-level="9.28" data-path="head.html"><a href="head.html#optionsmc.cores-paralleldetectcores."><i class="fa fa-check"></i><b>9.28</b> options(mc.cores = parallel::detectCores()).</a></li>
<li class="chapter" data-level="9.29" data-path="head.html"><a href="head.html#to-avoid-recompilation-of-unchanged-stan-programs-we-recommend-calling"><i class="fa fa-check"></i><b>9.29</b> To avoid recompilation of unchanged Stan programs, we recommend calling</a></li>
<li class="chapter" data-level="9.30" data-path="head.html"><a href="head.html#rstan_optionsauto_write-true"><i class="fa fa-check"></i><b>9.30</b> rstan_options(auto_write = TRUE)</a></li>
<li class="chapter" data-level="9.31" data-path="head.html"><a href="head.html#do-not-specify--marchnative-in-local_cppflags-or-a-makevars-file"><i class="fa fa-check"></i><b>9.31</b> Do not specify ‘-march=native’ in ‘LOCAL_CPPFLAGS’ or a Makevars file</a></li>
<li class="chapter" data-level="9.32" data-path="head.html"><a href="head.html#section-3"><i class="fa fa-check"></i><b>9.32</b> </a></li>
<li class="chapter" data-level="9.33" data-path="head.html"><a href="head.html#attaching-package-rstan"><i class="fa fa-check"></i><b>9.33</b> Attaching package: ‘rstan’</a></li>
<li class="chapter" data-level="9.34" data-path="head.html"><a href="head.html#the-following-object-is-masked-from-packagetidyr"><i class="fa fa-check"></i><b>9.34</b> The following object is masked from ‘package:tidyr’:</a></li>
<li class="chapter" data-level="9.35" data-path="head.html"><a href="head.html#section-4"><i class="fa fa-check"></i><b>9.35</b> </a></li>
<li class="chapter" data-level="9.36" data-path="head.html"><a href="head.html#extract"><i class="fa fa-check"></i><b>9.36</b> extract</a></li>
<li class="chapter" data-level="9.37" data-path="head.html"><a href="head.html#loading-required-package-parallel"><i class="fa fa-check"></i><b>9.37</b> Loading required package: parallel</a></li>
<li class="chapter" data-level="9.38" data-path="head.html"><a href="head.html#loading-required-package-dagitty"><i class="fa fa-check"></i><b>9.38</b> Loading required package: dagitty</a></li>
<li class="chapter" data-level="9.39" data-path="head.html"><a href="head.html#rethinking-version-2.01"><i class="fa fa-check"></i><b>9.39</b> rethinking (Version 2.01)</a></li>
<li class="chapter" data-level="9.40" data-path="head.html"><a href="head.html#section-5"><i class="fa fa-check"></i><b>9.40</b> </a></li>
<li class="chapter" data-level="9.41" data-path="head.html"><a href="head.html#attaching-package-rethinking"><i class="fa fa-check"></i><b>9.41</b> Attaching package: ‘rethinking’</a></li>
<li class="chapter" data-level="9.42" data-path="head.html"><a href="head.html#the-following-object-is-masked-from-packagepurrr"><i class="fa fa-check"></i><b>9.42</b> The following object is masked from ‘package:purrr’:</a></li>
<li class="chapter" data-level="9.43" data-path="head.html"><a href="head.html#section-6"><i class="fa fa-check"></i><b>9.43</b> </a></li>
<li class="chapter" data-level="9.44" data-path="head.html"><a href="head.html#map"><i class="fa fa-check"></i><b>9.44</b> map</a></li>
<li class="chapter" data-level="9.45" data-path="head.html"><a href="head.html#the-following-object-is-masked-from-packagestats"><i class="fa fa-check"></i><b>9.45</b> The following object is masked from ‘package:stats’:</a></li>
<li class="chapter" data-level="9.46" data-path="head.html"><a href="head.html#section-7"><i class="fa fa-check"></i><b>9.46</b> </a></li>
<li class="chapter" data-level="9.47" data-path="head.html"><a href="head.html#rstudent"><i class="fa fa-check"></i><b>9.47</b> rstudent</a></li>
<li class="chapter" data-level="9.48" data-path="head.html"><a href="head.html#geom_smooth-using-formula-y-x"><i class="fa fa-check"></i><b>9.48</b> <code>geom_smooth()</code> using formula ‘y ~ x’</a></li>
<li class="chapter" data-level="9.49" data-path="head.html"><a href="head.html#geom_smooth-using-formula-y-x-1"><i class="fa fa-check"></i><b>9.49</b> <code>geom_smooth()</code> using formula ‘y ~ x’</a></li>
<li class="chapter" data-level="9.50" data-path="head.html"><a href="head.html#parsed-with-column-specification"><i class="fa fa-check"></i><b>9.50</b> Parsed with column specification:</a></li>
<li class="chapter" data-level="9.51" data-path="head.html"><a href="head.html#cols"><i class="fa fa-check"></i><b>9.51</b> cols(</a></li>
<li class="chapter" data-level="9.52" data-path="head.html"><a href="head.html#country-col_character"><i class="fa fa-check"></i><b>9.52</b> country = col_character(),</a></li>
<li class="chapter" data-level="9.53" data-path="head.html"><a href="head.html#obesity_rate_perc_pop-col_double"><i class="fa fa-check"></i><b>9.53</b> obesity_rate_perc_pop = col_double()</a></li>
<li class="chapter" data-level="9.54" data-path="head.html"><a href="head.html#section-8"><i class="fa fa-check"></i><b>9.54</b> )</a></li>
<li class="chapter" data-level="9.55" data-path="head.html"><a href="head.html#parsed-with-column-specification-1"><i class="fa fa-check"></i><b>9.55</b> Parsed with column specification:</a></li>
<li class="chapter" data-level="9.56" data-path="head.html"><a href="head.html#cols-1"><i class="fa fa-check"></i><b>9.56</b> cols(</a></li>
<li class="chapter" data-level="9.57" data-path="head.html"><a href="head.html#default-col_double"><i class="fa fa-check"></i><b>9.57</b> .default = col_double(),</a></li>
<li class="chapter" data-level="9.58" data-path="head.html"><a href="head.html#country-col_character-1"><i class="fa fa-check"></i><b>9.58</b> country = col_character()</a></li>
<li class="chapter" data-level="9.59" data-path="head.html"><a href="head.html#section-9"><i class="fa fa-check"></i><b>9.59</b> )</a></li>
<li class="chapter" data-level="9.60" data-path="head.html"><a href="head.html#see-spec-for-full-column-specifications."><i class="fa fa-check"></i><b>9.60</b> See spec(…) for full column specifications.</a></li>
<li class="chapter" data-level="9.61" data-path="head.html"><a href="head.html#joining-by-country"><i class="fa fa-check"></i><b>9.61</b> Joining, by = “country”</a></li>
<li class="chapter" data-level="9.62" data-path="head.html"><a href="head.html#geom_smooth-using-formula-y-x-2"><i class="fa fa-check"></i><b>9.62</b> <code>geom_smooth()</code> using formula ‘y ~ x’</a></li>
<li class="chapter" data-level="9.63" data-path="head.html"><a href="head.html#parsed-with-column-specification-2"><i class="fa fa-check"></i><b>9.63</b> Parsed with column specification:</a></li>
<li class="chapter" data-level="9.64" data-path="head.html"><a href="head.html#cols-2"><i class="fa fa-check"></i><b>9.64</b> cols(</a></li>
<li class="chapter" data-level="9.65" data-path="head.html"><a href="head.html#country-col_character-2"><i class="fa fa-check"></i><b>9.65</b> country = col_character(),</a></li>
<li class="chapter" data-level="9.66" data-path="head.html"><a href="head.html#obesity_rate_perc_pop-col_double-1"><i class="fa fa-check"></i><b>9.66</b> obesity_rate_perc_pop = col_double()</a></li>
<li class="chapter" data-level="9.67" data-path="head.html"><a href="head.html#section-10"><i class="fa fa-check"></i><b>9.67</b> )</a></li>
<li class="chapter" data-level="9.68" data-path="head.html"><a href="head.html#parsed-with-column-specification-3"><i class="fa fa-check"></i><b>9.68</b> Parsed with column specification:</a></li>
<li class="chapter" data-level="9.69" data-path="head.html"><a href="head.html#cols-3"><i class="fa fa-check"></i><b>9.69</b> cols(</a></li>
<li class="chapter" data-level="9.70" data-path="head.html"><a href="head.html#default-col_double-1"><i class="fa fa-check"></i><b>9.70</b> .default = col_double(),</a></li>
<li class="chapter" data-level="9.71" data-path="head.html"><a href="head.html#country-col_character-3"><i class="fa fa-check"></i><b>9.71</b> country = col_character()</a></li>
<li class="chapter" data-level="9.72" data-path="head.html"><a href="head.html#section-11"><i class="fa fa-check"></i><b>9.72</b> )</a></li>
<li class="chapter" data-level="9.73" data-path="head.html"><a href="head.html#see-spec-for-full-column-specifications.-1"><i class="fa fa-check"></i><b>9.73</b> See spec(…) for full column specifications.</a></li>
<li class="chapter" data-level="9.74" data-path="head.html"><a href="head.html#joining-by-country-1"><i class="fa fa-check"></i><b>9.74</b> Joining, by = “country”</a></li>
<li class="chapter" data-level="9.75" data-path="head.html"><a href="head.html#joining-by-country-2"><i class="fa fa-check"></i><b>9.75</b> Joining, by = “country”</a></li>
<li class="chapter" data-level="9.76" data-path="head.html"><a href="head.html#geom_smooth-using-formula-y-x-3"><i class="fa fa-check"></i><b>9.76</b> <code>geom_smooth()</code> using formula ‘y ~ x’</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>10</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="10.1" data-path="overview.html"><a href="overview.html#learning-objectives"><i class="fa fa-check"></i><b>10.1</b> Learning Objectives</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="data-visualization.html"><a href="data-visualization.html#basic-components-of-a-graph"><i class="fa fa-check"></i><b>10.1.1</b> Basic Components of a Graph</a></li>
<li class="chapter" data-level="10.1.2" data-path="data-visualization.html"><a href="data-visualization.html#best-practices"><i class="fa fa-check"></i><b>10.1.2</b> Best Practices</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Inquiry and Analysis in Biology</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="head" class="section level1" number="9">
<h1><span class="header-section-number">9</span> head()</h1>
<p>ggplot(drug_data, aes(x = drug, y = y, color = treatment)) +
geom_point(position = position_jitterdodge(jitter.width = 0.065, dodge.width = 0.2)) +
labs(y = “Percent of patients that recovered”,
x = “Type of Drug”) +
scale_color_grey(start = .6, end = 0) +
ylim(0,1)</p>
<pre><code>
In the figure above, the black dots are the same as before. The gray dots show the percent of people who recovered without taking the drug. Does this information change your perception of the benefits of taking either drug? In the first graph, it seemed obvious that drugs A and B were better than drug C, because most people recovered with those drugs.

Adding the control data tells a different story. While it is true that most people recovered when taking drugs A and B, they also recovered without taking those drugs. For drug C, only \~25 to 75 percent of people recovered when taking it, but that percentage appears much higher than the percentage of people that recovered without taking the drug. In some trials, almost no one recovered without the drug. This complicates the decision of which drug to choose.

Because our doctor took Inquiry and Analysis in Biology *and* later took biostatistics, they ask for further information. Instead of just looking at the data for each group, they want something more informative. For each trial, they subtract the percent that recovered when taking the drug from the percent that recovered when not taking the drug. Then they plot it. It looks like this.

</code></pre>
<div id="a-tibble-6-x-5" class="section level2" number="9.1">
<h2><span class="header-section-number">9.1</span> # A tibble: 6 x 5</h2>
</div>
<div id="trial-drug-treatment-control-difference" class="section level2" number="9.2">
<h2><span class="header-section-number">9.2</span> trial drug treatment control difference</h2>
</div>
<div id="section" class="section level2" number="9.3">
<h2><span class="header-section-number">9.3</span> <int> <chr> <dbl> <dbl> <dbl></h2>
</div>
<div id="drug_a-1-0.41-0.59" class="section level2" number="9.4">
<h2><span class="header-section-number">9.4</span> 1 1 drug_a 1 0.41 0.59</h2>
</div>
<div id="drug_a-0.89-0.81-0.08" class="section level2" number="9.5">
<h2><span class="header-section-number">9.5</span> 2 2 drug_a 0.89 0.81 0.08</h2>
</div>
<div id="drug_a-0.96-0.56-0.4" class="section level2" number="9.6">
<h2><span class="header-section-number">9.6</span> 3 3 drug_a 0.96 0.56 0.4</h2>
</div>
<div id="drug_a-0.62-0.99--0.37" class="section level2" number="9.7">
<h2><span class="header-section-number">9.7</span> 4 4 drug_a 0.62 0.99 -0.37</h2>
</div>
<div id="drug_a-1-0.99-0.01" class="section level2" number="9.8">
<h2><span class="header-section-number">9.8</span> 5 5 drug_a 1 0.99 0.01</h2>
</div>
<div id="drug_a-0.99-0.27-0.72" class="section level2" number="9.9">
<h2><span class="header-section-number">9.9</span> 6 6 drug_a 0.99 0.27 0.72</h2>
<pre><code>
&lt;img src=&quot;_main_files/figure-html/unnamed-chunk-20-1.png&quot; width=&quot;672&quot; /&gt;

Now we see a different story than the figure we started with. By displaying the differences in recover, instead of the raw recovery rates, it now appears that drug C is a clear winner. In all but three trials, recovery rates were higher for people that took the drug compared to those that didn&#39;t.

So far, we have only plotted the data. We haven&#39;t quantified anything yet, but by plotting the data and being self-critical of the ways in which we might be fooling ourselves, we have practiced **quantitative reasoning**. This process also illustrates a broader principle: statistics can not automate scientific decisions. Each of the plots above used statistical software and could be analyzed with a wide array of statistical models. But none of those models *know* about the experiment. They will all give a result, but it is up to you to interpret its importance.

Plotting data is among the most important steps in any project. Plotting (aka *making graphs*, *data visualization*) does several things. 1) It reveals any obvious problems in data entry. 2) It shows trends in the data. 3) It revealss the experimental design. This last step is crucial. Deciding what to put on the x-axis versus the y-axis, how to label those axes, what range to put on the y-axis, what groups to label in the figure legend...these are just some of the choices you&#39;ll make when plotting data. Students often do this step last, hoping to add a graph at the end to complete an assignment. Don&#39;t do that. Plot early and often, even before you have data. If you know what the axes should be, and which groups will go side-by-side (like the gray and black dots in Figure X), then you have already crystalized nearly everything that you will later write about in the rest of your paper (see *Figures First* in the previous chapter).

## Summary Statistics

Now that we&#39;ve plotted our results, the next step is to describe them using summary statistics. **Summary statistics** are numbers that describe some aspect of a data set. They include things like the mean, median, standard deviation, quantiles, minimum, and maximum. In combination with plotting, summary statistics are critical for communicating science. Summary statistics also provide a guide for how to verbally describe your results to your professor, colleague, friend, or whoever is trying to understand your science.

You should aim to provide at least the following summary statistics for every important result. They are defined below along with the R function that calculates them in italics.

**Mean** The central tendency of your data. calculated as the sum of the value of all data in a group divided by the number of data

**Standard Deviation** The spread of your data. Let&#39;s say you have 10 data points with a mean of 2 and a standard deviation of 0.5. Even though the mean is 2, very few individual data points will be exactly 2. In fact, none of them may be exactly 2. Instead, the data points will &quot;deviate&quot; from the mean. A standard deviation of 0.5 means that the average deviation from the mean is 0.5 absolute units from 2. We usually write this with +/- symbols (2 +/- 0.5), meaning that a typical data point might be anywhere from 2.5 to 1.5.

**Minimum** The smallest value.

**Maximum** The largest value.

The code below will generate the data set used in Figure 3 above called *drug_data* - just copy it and run it. Don&#39;t worry about interpreting it for now.



Once we have a data set, we use the *group_by()* and *summarize()* functions to generate the summary statistics.

</code></pre>
</div>
<div id="summarise-ungrouping-output-override-with-.groups-argument" class="section level2" number="9.10">
<h2><span class="header-section-number">9.10</span> <code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</h2>
<pre><code></code></pre>
</div>
<div id="a-tibble-3-x-5" class="section level2" number="9.11">
<h2><span class="header-section-number">9.11</span> # A tibble: 3 x 5</h2>
</div>
<div id="drug-mean-sd-min-max" class="section level2" number="9.12">
<h2><span class="header-section-number">9.12</span> drug mean sd min max</h2>
</div>
<div id="section-1" class="section level2" number="9.13">
<h2><span class="header-section-number">9.13</span> <chr> <dbl> <dbl> <dbl> <dbl></h2>
</div>
<div id="drug_a-0.0315-0.303--0.61-0.72" class="section level2" number="9.14">
<h2><span class="header-section-number">9.14</span> 1 drug_a 0.0315 0.303 -0.61 0.72</h2>
</div>
<div id="drug_b--0.00950-0.150--0.290-0.38" class="section level2" number="9.15">
<h2><span class="header-section-number">9.15</span> 2 drug_b -0.00950 0.150 -0.290 0.38</h2>
</div>
<div id="drug_c-0.428-0.306--0.18-0.9" class="section level2" number="9.16">
<h2><span class="header-section-number">9.16</span> 3 drug_c 0.428 0.306 -0.18 0.9</h2>
<pre><code>
That&#39;s a lot of decimal places! Let&#39;s clean it up a bit before moving on. Compare the code below to the code above. Can you see how we shortened the decimal places? Why did we keep two decimal places for the mean, but only 1 decimal place for everything else?

</code></pre>
</div>
<div id="summarise-ungrouping-output-override-with-.groups-argument-1" class="section level2" number="9.17">
<h2><span class="header-section-number">9.17</span> <code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</h2>
<pre><code></code></pre>
</div>
<div id="a-tibble-3-x-5-1" class="section level2" number="9.18">
<h2><span class="header-section-number">9.18</span> # A tibble: 3 x 5</h2>
</div>
<div id="drug-mean-sd-min-max-1" class="section level2" number="9.19">
<h2><span class="header-section-number">9.19</span> drug mean sd min max</h2>
</div>
<div id="section-2" class="section level2" number="9.20">
<h2><span class="header-section-number">9.20</span> <chr> <dbl> <dbl> <dbl> <dbl></h2>
</div>
<div id="drug_a-0.03-0.3--0.6-0.7" class="section level2" number="9.21">
<h2><span class="header-section-number">9.21</span> 1 drug_a 0.03 0.3 -0.6 0.7</h2>
</div>
<div id="drug_b--0.01-0.1--0.3-0.4" class="section level2" number="9.22">
<h2><span class="header-section-number">9.22</span> 2 drug_b -0.01 0.1 -0.3 0.4</h2>
</div>
<div id="drug_c-0.43-0.3--0.2-0.9" class="section level2" number="9.23">
<h2><span class="header-section-number">9.23</span> 3 drug_c 0.43 0.3 -0.2 0.9</h2>
<pre><code>
Now we&#39;ll add the mean and sd to the plot. Can you see how it is added in the code below?

&lt;img src=&quot;_main_files/figure-html/unnamed-chunk-24-1.png&quot; width=&quot;672&quot; /&gt;

This looks pretty close to a finished product now. It has lots of information in the plot, including the raw data, the mean, and the standard deviation. By combining the summary statistics and the plot, we are ready to write a paragraph about this result.

*Across 20 trials, recovery rates were 0.43 +/- 0.3 points higher for groups that took drug C versus that took a placebo. Recovery ranged from -0.2 to 0.9. In comparison, recovery rates for drug A were only 0.03 +/- 0.3 points higher than placebo controls, and recovery rates for drug B were 0.01 +/- 0.1 points worse than placebo controls. However, direct comparison of these drugs is complicated by the fact that raw rates of recovery were highest for drugs A and B, in which nearly all patients recovered in both treatment and control groups. In contrast, recovery rates for drug C were \~50% in the treatment group, but only \~10% in the control. This suggest the potential that the trials were conducted on groups with different underlying probabilities of recovery.*

## Don&#39;t forget that Quantitative Thinking includes &quot;thinking&quot;

A statistical model alone will not answer your scientific question. The work flow presented above is not a formula for success in every case. Each problem you attempt to solve as a scientist is unique and will require you to make judgment calls. Statistics can help us to justify those judgments, making our decisions less susceptible to personal bias, but they cannot eliminate subjectivity. The point of *Quantitative Thinking* is not to replace critical thought with computer generated outputs. It is to use the tools of statistics and experimental design to prevent us from fooling ourselves. As Richard Feynman said: &quot;The first principal [of science] is to not fool yourself, and you are the easiest person to fool.&quot;

## Common Pitfalls in Statistical Inference

Here are some easy ways to fool yourself in science and quantitative thinking.

1)  **Spurious correlations**

*Assuming that correlations reflect causation. Forgetting about hidden variables*

The plot below is from real data. How do you interpret this result?

</code></pre>
</div>
<div id="loading-required-package-rstan" class="section level2" number="9.24">
<h2><span class="header-section-number">9.24</span> Loading required package: rstan</h2>
<pre><code></code></pre>
</div>
<div id="loading-required-package-stanheaders" class="section level2" number="9.25">
<h2><span class="header-section-number">9.25</span> Loading required package: StanHeaders</h2>
<pre><code></code></pre>
</div>
<div id="rstan-version-2.21.2-gitrev-2e1f913d3ca3" class="section level2" number="9.26">
<h2><span class="header-section-number">9.26</span> rstan (Version 2.21.2, GitRev: 2e1f913d3ca3)</h2>
<pre><code></code></pre>
</div>
<div id="for-execution-on-a-local-multicore-cpu-with-excess-ram-we-recommend-calling" class="section level2" number="9.27">
<h2><span class="header-section-number">9.27</span> For execution on a local, multicore CPU with excess RAM we recommend calling</h2>
</div>
<div id="optionsmc.cores-paralleldetectcores." class="section level2" number="9.28">
<h2><span class="header-section-number">9.28</span> options(mc.cores = parallel::detectCores()).</h2>
</div>
<div id="to-avoid-recompilation-of-unchanged-stan-programs-we-recommend-calling" class="section level2" number="9.29">
<h2><span class="header-section-number">9.29</span> To avoid recompilation of unchanged Stan programs, we recommend calling</h2>
</div>
<div id="rstan_optionsauto_write-true" class="section level2" number="9.30">
<h2><span class="header-section-number">9.30</span> rstan_options(auto_write = TRUE)</h2>
<pre><code></code></pre>
</div>
<div id="do-not-specify--marchnative-in-local_cppflags-or-a-makevars-file" class="section level2" number="9.31">
<h2><span class="header-section-number">9.31</span> Do not specify ‘-march=native’ in ‘LOCAL_CPPFLAGS’ or a Makevars file</h2>
<pre><code></code></pre>
</div>
<div id="section-3" class="section level2" number="9.32">
<h2><span class="header-section-number">9.32</span> </h2>
</div>
<div id="attaching-package-rstan" class="section level2" number="9.33">
<h2><span class="header-section-number">9.33</span> Attaching package: ‘rstan’</h2>
<pre><code></code></pre>
</div>
<div id="the-following-object-is-masked-from-packagetidyr" class="section level2" number="9.34">
<h2><span class="header-section-number">9.34</span> The following object is masked from ‘package:tidyr’:</h2>
</div>
<div id="section-4" class="section level2" number="9.35">
<h2><span class="header-section-number">9.35</span> </h2>
</div>
<div id="extract" class="section level2" number="9.36">
<h2><span class="header-section-number">9.36</span> extract</h2>
<pre><code></code></pre>
</div>
<div id="loading-required-package-parallel" class="section level2" number="9.37">
<h2><span class="header-section-number">9.37</span> Loading required package: parallel</h2>
<pre><code></code></pre>
</div>
<div id="loading-required-package-dagitty" class="section level2" number="9.38">
<h2><span class="header-section-number">9.38</span> Loading required package: dagitty</h2>
<pre><code></code></pre>
</div>
<div id="rethinking-version-2.01" class="section level2" number="9.39">
<h2><span class="header-section-number">9.39</span> rethinking (Version 2.01)</h2>
<pre><code></code></pre>
</div>
<div id="section-5" class="section level2" number="9.40">
<h2><span class="header-section-number">9.40</span> </h2>
</div>
<div id="attaching-package-rethinking" class="section level2" number="9.41">
<h2><span class="header-section-number">9.41</span> Attaching package: ‘rethinking’</h2>
<pre><code></code></pre>
</div>
<div id="the-following-object-is-masked-from-packagepurrr" class="section level2" number="9.42">
<h2><span class="header-section-number">9.42</span> The following object is masked from ‘package:purrr’:</h2>
</div>
<div id="section-6" class="section level2" number="9.43">
<h2><span class="header-section-number">9.43</span> </h2>
</div>
<div id="map" class="section level2" number="9.44">
<h2><span class="header-section-number">9.44</span> map</h2>
<pre><code></code></pre>
</div>
<div id="the-following-object-is-masked-from-packagestats" class="section level2" number="9.45">
<h2><span class="header-section-number">9.45</span> The following object is masked from ‘package:stats’:</h2>
</div>
<div id="section-7" class="section level2" number="9.46">
<h2><span class="header-section-number">9.46</span> </h2>
</div>
<div id="rstudent" class="section level2" number="9.47">
<h2><span class="header-section-number">9.47</span> rstudent</h2>
<pre><code></code></pre>
</div>
<div id="geom_smooth-using-formula-y-x" class="section level2" number="9.48">
<h2><span class="header-section-number">9.48</span> <code>geom_smooth()</code> using formula ‘y ~ x’</h2>
<pre><code>
&lt;img src=&quot;_main_files/figure-html/unnamed-chunk-25-1.png&quot; width=&quot;672&quot; /&gt;

The figure shows a clear positive correlation between the divorce rate and the number of Waffle Houses (McElreath 2015). In this case, it is obvious (hopefully) that Waffle Houses are probably not causing divorces. What&#39;s going on? The states that are labeled are all in the South, where Waffle Houses are common. People also happen to get married earlier in the South, which helps to explain the higher than average divorce rates there.

Here&#39;s another less obvious example.

</code></pre>
</div>
<div id="geom_smooth-using-formula-y-x-1" class="section level2" number="9.49">
<h2><span class="header-section-number">9.49</span> <code>geom_smooth()</code> using formula ‘y ~ x’</h2>
<pre><code>
&lt;img src=&quot;_main_files/figure-html/unnamed-chunk-26-1.png&quot; width=&quot;672&quot; /&gt;

The figure shows a positive relationship between a country&#39;s gross domestic product (GDP) and its life expectancy in 2007. Each dot is a country. In our experience, this correlation is a common one for students to study. They often interpret the result as confirming a benefit of economic activity with how long people live, and conclude that countries can improve life-expectancy simply by improving economic activity.

But this represents a similar fallacy as the Waffle House-Divorce example. An easy way to see this is to check death certificates. If we did that (we didn&#39;t, but we think we&#39;re safe here), we would probably not find a cause of death that says &quot;Died due to low GDP&quot;. Just like Waffle Houses are associated with &quot;Southerness&quot; and &quot;Southerness&quot; is associated with early age at marriage and early age at marriage leads to higher divorce rates, GDP is associated with its own confounding variable of health care infrastructure. That is itself a large and difficult-to-define metric, but it is closer to explaining the positive correlation between GDP and life expectancy.

It is certainly true that countries with higher GDP&#39;s tend to also have better health outcomes because they have better health infrastructure. The trick is to think about the actual steps that have to happen for GDP to translate to longer life-expectancy. Each country will make individual choices along those steps, and each choice has the potential to sever the link between GDP and efficient health spending. There is nothing wrong with studying the *statistical* relationship between GDP and life expectancy. Just be careful in assuming that simply improving GDP will automatically improve life-expectancy.

#### Preventing mistakes with spurious correlations

Use similar quantitative reasoning as the doctor did with the drug company results. In essence, ask how an initial result might be missing something crucial (like a control or a confounder). This is especially important if the initial result is something you were expecting to see. If you were expecting to see a positive correlation between x and y and you found it, that&#39;s great. But don&#39;t let that result prevent you from thinking critically about other ways that your result could arise.

2)  **Negative Results as Failures**

*Assuming that your study &quot;failed&quot; because it did not support your hypothesis*

You form a hypothesis, expect an outcome, collect data, and find...nothing. No relationship. Nada.

What do you conclude from this?

A common mistake is to declare a &quot;failed&quot; experiment. Some students try to start a new project from scratch, just so they can report a &quot;positive&quot; outcome. Don&#39;t do that!

An unwritten rule of science is that our failures often lead to the most interesting research. After all, you probably did a study thinking you knew the answer. When it fails, it means that something that most scientists might predict is not quite right. Consider geocentrism. When scientists in the 1600&#39;s found that their calculations of the planets and stars were wrong, that was not a failure (well, it was a failure of the mathematical models themselves, but not of the scientific endeavor writ large). Instead, those bad predictions eventually revealed that something that most humans believed (earth at the center of the universe) was wrong. Being wrong did not mean that those scientists were bad scientists. It was perfectly reasonable to expect that the earth was stationary and everything else moved around it.

In my own research (Wesner&#39;s), a failure lead to a new area of study. We wanted to know how metal contamination from streams would affect insects that lived in those streams. We knew that young insects had high metal concentrations and assumed that the adults would too. We even wrote several grants that made that assumption, asking for money to study how those metals in adult insects would impact birds that fed on them.

So we collected some adults from contaminated streams and measured the concentration of metals in them. We were shocked. Even though they came from contaminated streams and the larvae in those streams had high metal concentrations, the adults did not. They looked fine. We were wrong. There did not seem to be any risk of metal contamination to birds.

This was embarrassing, but it also lead to a different line of research. We read the literature and conducted experiments. We determined that lots of contaminants are lost during metamorphosis. But during that loss, many insects also die. It&#39;s too stressful. So the main risk of metals that we studied was not that metals would get into birds and prevent their reproduction. The main risk was that metals would prevent insects from emerging altogether, thereby leading to less food for birds.

Without this initial &quot;failure&quot;, we never would have discovered the actual links between metal contamination in streams and risks to riparian birds.

#### Preventing mistakes with negative results

Treat them as an opportunity to learn more. If your hypothesis was not supported, explore the reasons why. Do you predictor and response variables actually measure the quantities of your hypothesis or are they a proxy? If they&#39;re a proxy, maybe they don&#39;t measure what you think they do. Maybe the negative results is robust and it challenges conventional wisdom. That&#39;s exciting! What are the implications of a hypothesis that didn&#39;t pan out? Explore those and suggest how future scientists should proceed now that we know that a given hypothesis isn&#39;t always supported.

3)  **Ecological Fallacy**

*Using aggregate data to infer something about individuals*

Extreme obesity is a global public health concern that is defined as a body mass index of 40 kg/m^2^ or more. Individuals in this category have increased rates of mortality, often due to increased rates of heart disease, cancer, stroke and other ailments [@kitahara2014association].

Let&#39;s visualize the relationship between obesity and life-expectancy across countries. In the plot below, each dot is a different country. The line represents a linear regression between the two variables.

</code></pre>
</div>
<div id="parsed-with-column-specification" class="section level2" number="9.50">
<h2><span class="header-section-number">9.50</span> Parsed with column specification:</h2>
</div>
<div id="cols" class="section level2" number="9.51">
<h2><span class="header-section-number">9.51</span> cols(</h2>
</div>
<div id="country-col_character" class="section level2" number="9.52">
<h2><span class="header-section-number">9.52</span> country = col_character(),</h2>
</div>
<div id="obesity_rate_perc_pop-col_double" class="section level2" number="9.53">
<h2><span class="header-section-number">9.53</span> obesity_rate_perc_pop = col_double()</h2>
</div>
<div id="section-8" class="section level2" number="9.54">
<h2><span class="header-section-number">9.54</span> )</h2>
<pre><code></code></pre>
</div>
<div id="parsed-with-column-specification-1" class="section level2" number="9.55">
<h2><span class="header-section-number">9.55</span> Parsed with column specification:</h2>
</div>
<div id="cols-1" class="section level2" number="9.56">
<h2><span class="header-section-number">9.56</span> cols(</h2>
</div>
<div id="default-col_double" class="section level2" number="9.57">
<h2><span class="header-section-number">9.57</span> .default = col_double(),</h2>
</div>
<div id="country-col_character-1" class="section level2" number="9.58">
<h2><span class="header-section-number">9.58</span> country = col_character()</h2>
</div>
<div id="section-9" class="section level2" number="9.59">
<h2><span class="header-section-number">9.59</span> )</h2>
<pre><code></code></pre>
</div>
<div id="see-spec-for-full-column-specifications." class="section level2" number="9.60">
<h2><span class="header-section-number">9.60</span> See spec(…) for full column specifications.</h2>
<pre><code></code></pre>
</div>
<div id="joining-by-country" class="section level2" number="9.61">
<h2><span class="header-section-number">9.61</span> Joining, by = “country”</h2>
<pre><code></code></pre>
</div>
<div id="geom_smooth-using-formula-y-x-2" class="section level2" number="9.62">
<h2><span class="header-section-number">9.62</span> <code>geom_smooth()</code> using formula ‘y ~ x’</h2>
<pre><code>
&lt;img src=&quot;_main_files/figure-html/unnamed-chunk-27-1.png&quot; width=&quot;672&quot; /&gt;

Is this what you expected? This seems like a paradox. Decades of studies clearly show that extreme obesity is linked with poor health outcomes and increased mortality. The plot above appears to contradict this. Countries with a higher percentage of obese people also tend to have *higher* life expectancy.

This is an example of the *ecological fallacy*, which states that we cannot use aggregate data to infer something about individuals. For example, Kuwait has a high obesity rate of \~38% and a high life-expectancy of \~79 years. But those numbers represent averages of about 4 million individuals. If we were to assess a sample of individuals *within* Kuwait, then we would expect the pattern that we initially hypothesized - *at the individual level, extreme obesity is negatively associated with life-expectancy, but at the country-level the pattern is reversed.*

As you might expect by now, there are also other reasons to explain these associations, such as hidden variables. For example, look at the plot again, but now with information on GDP per capita.

</code></pre>
</div>
<div id="parsed-with-column-specification-2" class="section level2" number="9.63">
<h2><span class="header-section-number">9.63</span> Parsed with column specification:</h2>
</div>
<div id="cols-2" class="section level2" number="9.64">
<h2><span class="header-section-number">9.64</span> cols(</h2>
</div>
<div id="country-col_character-2" class="section level2" number="9.65">
<h2><span class="header-section-number">9.65</span> country = col_character(),</h2>
</div>
<div id="obesity_rate_perc_pop-col_double-1" class="section level2" number="9.66">
<h2><span class="header-section-number">9.66</span> obesity_rate_perc_pop = col_double()</h2>
</div>
<div id="section-10" class="section level2" number="9.67">
<h2><span class="header-section-number">9.67</span> )</h2>
<pre><code></code></pre>
</div>
<div id="parsed-with-column-specification-3" class="section level2" number="9.68">
<h2><span class="header-section-number">9.68</span> Parsed with column specification:</h2>
</div>
<div id="cols-3" class="section level2" number="9.69">
<h2><span class="header-section-number">9.69</span> cols(</h2>
</div>
<div id="default-col_double-1" class="section level2" number="9.70">
<h2><span class="header-section-number">9.70</span> .default = col_double(),</h2>
</div>
<div id="country-col_character-3" class="section level2" number="9.71">
<h2><span class="header-section-number">9.71</span> country = col_character()</h2>
</div>
<div id="section-11" class="section level2" number="9.72">
<h2><span class="header-section-number">9.72</span> )</h2>
<pre><code></code></pre>
</div>
<div id="see-spec-for-full-column-specifications.-1" class="section level2" number="9.73">
<h2><span class="header-section-number">9.73</span> See spec(…) for full column specifications.</h2>
<pre><code></code></pre>
</div>
<div id="joining-by-country-1" class="section level2" number="9.74">
<h2><span class="header-section-number">9.74</span> Joining, by = “country”</h2>
</div>
<div id="joining-by-country-2" class="section level2" number="9.75">
<h2><span class="header-section-number">9.75</span> Joining, by = “country”</h2>
<pre><code></code></pre>
</div>
<div id="geom_smooth-using-formula-y-x-3" class="section level2" number="9.76">
<h2><span class="header-section-number">9.76</span> <code>geom_smooth()</code> using formula ‘y ~ x’</h2>
<p>```</p>
<p><img src="_main_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<p>This is the same data, but now a third variable is presented, showing GDP per capita (in US 2007 Dollars). The scatter of the dots is non-random in the sense that countries with large GDP tend to be clustered in areas of both high life-expectancy and higher obesity rates.</p>
<div id="preventing-the-ecological-fallacy-mistake" class="section level4" number="9.76.0.1">
<h4><span class="header-section-number">9.76.0.1</span> Preventing the ecological fallacy mistake</h4>
<p>Relate your hypotheses and explanations to the level of your data. For example:</p>
<p><strong>What We Initially Wanted to Study</strong> How does obesity affect survival?</p>
<p><strong>What We Actually Studied</strong> What is the correlation between obesity rates and life expectancy among countries?</p>
<p><strong>Data Level</strong> Countries</p>
<p><strong>Faulty Description</strong> Individuals with extreme obesity live longer</p>
<p><strong>Correct Description</strong> At the country level, there is a positive statistical correlation between obesity rates and life expectancy.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="mutateprop-recover-roundprop-recover-2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-visualization.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
